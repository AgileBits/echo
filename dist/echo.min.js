/*! echo-js v1.8.0 | (c) 2018 @toddmotto | https://github.com/toddmotto/echo */
!function(e,t){"function"==typeof define&&define.amd?define(function(){return t(e)}):"object"==typeof exports?module.exports=t:e.echo=t(e)}(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Cannot determine global object")}(),function(e){"use strict";var t,n,o,r,a,c,i={},u=function(){},l=function(e){return null===e.offsetParent},d=function(e,t){if(l(e))return!1;var n=e.getBoundingClientRect();return n.right>=t.l&&n.bottom>=t.t&&n.left<=t.r&&n.top<=t.b},f=function(){(r||!n)&&(clearTimeout(n),n=setTimeout(function(){i.render(),n=null},o))};return i.init=function(n){n=n||{};var l=n.offset||0,d=n.offsetVertical||l,s=n.offsetHorizontal||l,h=function(e,t){return parseInt(e||t,10)};t={t:h(n.offsetTop,d),b:h(n.offsetBottom,d),l:h(n.offsetLeft,s),r:h(n.offsetRight,s)},o=h(n.throttle,250),r=n.debounce!==!1,a=!!n.unload,u=n.callback||u,c=n.container||e,i.render(),c.addEventListener?(c.addEventListener("scroll",f,!1),c.addEventListener("load",f,!1)):(c.attachEvent("onscroll",f),c.attachEvent("onload",f))},i.render=function(e){for(var n,o,r=(e||document).querySelectorAll("[data-echo], [data-echo-background]"),l=r.length,f={l:0-t.l,t:0-t.t,b:(c.innerHeight||c.clientHeight)+t.b,r:(c.innerWidth||c.clientWidth)+t.r},s=0;l>s;s++)o=r[s],d(o,f)?(a&&o.setAttribute("data-echo-placeholder",o.src),null!==o.getAttribute("data-echo-background")?o.style.backgroundImage="url("+o.getAttribute("data-echo-background")+")":o.src!==(n=o.getAttribute("data-echo"))&&(o.src=n),a||(o.removeAttribute("data-echo"),o.removeAttribute("data-echo-background")),u(o,"load")):a&&(n=o.getAttribute("data-echo-placeholder"))&&(null!==o.getAttribute("data-echo-background")?o.style.backgroundImage="url("+n+")":o.src=n,o.removeAttribute("data-echo-placeholder"),u(o,"unload"));l||i.detach()},i.detach=function(){document.removeEventListener?e.removeEventListener("scroll",f):e.detachEvent("onscroll",f),clearTimeout(n)},i});