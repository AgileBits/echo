/*! echo-js v1.7.3 | (c) 2017 @toddmotto | https://github.com/toddmotto/echo */
!function(t,e){"function"==typeof define&&define.amd?define(function(){return e(t)}):"object"==typeof exports?module.exports=e:t.echo=e(t)}(function(){try{return Function("return this")()}catch(t){return window}}(),function(t){"use strict";var e,n,r,o,c,a,u={},i=function(){},l=function(t){return null===t.offsetParent},d=function(t,e){if(l(t))return!1;var n=t.getBoundingClientRect();return n.right>=e.l&&n.bottom>=e.t&&n.left<=e.r&&n.top<=e.b},f=function(){(o||!n)&&(clearTimeout(n),n=setTimeout(function(){u.render(),n=null},r))};return u.init=function(n){n=n||{};var l=n.offset||0,d=n.offsetVertical||l,s=n.offsetHorizontal||l,h=function(t,e){return parseInt(t||e,10)};e={t:h(n.offsetTop,d),b:h(n.offsetBottom,d),l:h(n.offsetLeft,s),r:h(n.offsetRight,s)},r=h(n.throttle,250),o=n.debounce!==!1,c=!!n.unload,i=n.callback||i,a=n.container||t,u.render(),a.addEventListener?(a.addEventListener("scroll",f,!1),a.addEventListener("load",f,!1)):(a.attachEvent("onscroll",f),a.attachEvent("onload",f))},u.render=function(t){for(var n,r,o=(t||document).querySelectorAll("[data-echo], [data-echo-background]"),l=o.length,f={l:0-e.l,t:0-e.t,b:(a.innerHeight||a.clientHeight)+e.b,r:(a.innerWidth||a.clientWidth)+e.r},s=0;l>s;s++)r=o[s],d(r,f)?(c&&r.setAttribute("data-echo-placeholder",r.src),null!==r.getAttribute("data-echo-background")?r.style.backgroundImage="url("+r.getAttribute("data-echo-background")+")":r.src!==(n=r.getAttribute("data-echo"))&&(r.src=n),c||(r.removeAttribute("data-echo"),r.removeAttribute("data-echo-background")),i(r,"load")):c&&(n=r.getAttribute("data-echo-placeholder"))&&(null!==r.getAttribute("data-echo-background")?r.style.backgroundImage="url("+n+")":r.src=n,r.removeAttribute("data-echo-placeholder"),i(r,"unload"));l||u.detach()},u.detach=function(){document.removeEventListener?t.removeEventListener("scroll",f):t.detachEvent("onscroll",f),clearTimeout(n)},u});